<% if @opt[:env] == 'test' %>
	//! zinc

	library EnsureSinglePlayer requires GameStatus, PublicLibrary, CompileInfo {

		function onInit() {
			OnGameStatusFound(function(){
				if (GetGameStatus() != GAME_STATUS_OFFLINE ||
					(GetPlayerName(GetLocalPlayer()) != CompileInfo.compiledBy &&
					 GetPlayerName(GetLocalPlayer()) != "WorldEdit")) {
					RemovePlayer(GetLocalPlayer(), PLAYER_GAME_RESULT_DEFEAT);
				}
			});
		}

	}

	//! endzinc
<% end %>